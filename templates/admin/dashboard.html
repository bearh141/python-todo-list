{% extends "base.html" %} {% block title %}Admin Dashboard{% endblock %} {%
block content %}
<div class="mb-4 flex justify-between items-center">
  <p class="text-2xl font-bold">User Management</p>
  <a
    href="{{ url_for('admin.create_user') }}"
    class="bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 flex items-center gap-2"
  >
    <i class="fas fa-user-plus"></i>
    <span>Create User</span>
  </a>
</div>

<table class="min-w-full bg-white border rounded shadow">
  <thead class="bg-gray-100">
    <tr>
      <th class="py-2 px-4 border">ID</th>
      <th class="py-2 px-4 border">User Name</th>
      <th class="py-2 px-4 border">Role</th>
      <th class="py-2 px-4 border">Joined</th>
      <th class="py-2 px-4 border">Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for user in users %}
    <tr class="hover:bg-gray-50">
      <td class="py-2 px-4 border">{{ user.id }}</td>
      <td class="py-2 px-4 border">{{ user.username }}</td>
      <td class="py-2 px-4 border">
        {% if user.is_admin %}<span class="text-green-600 font-semibold"
          >Admin</span
        >
        {% else %}<span class="text-gray-500">User</span>
        {% endif %}
      </td>
      <td class="py-2 px-4 border">
        {{ user.created_at.strftime('%Y-%m-%d') }}
      </td>
      <td class="py-2 px-4 border flex flex-col items-center">
        <div class="flex items-center gap-3">
          <a
            href="{{ url_for('admin.edit_user', user_id=user.id) }}"
            class="text-indigo-600 hover:text-indigo-800"
            title="Edit User"
          >
            <i class="fas fa-edit"></i>
          </a>

          <a
            href="{{ url_for('admin.delete_user', user_id=user.id) }}"
            onclick="return confirm('Delete this user?');"
            class="text-red-600 hover:text-red-800"
            title="Delete User"
          >
            <i class="fas fa-trash"></i>
          </a>
        </div>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
